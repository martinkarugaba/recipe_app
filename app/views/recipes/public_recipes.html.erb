<h1 class='text-center mt-5'>Public Recipes</h1>

<% if @public_recipes.any? %>
<div class='container mt-5'>
<div class="card">
  <div class="card-body">
    <div class="table-responsive">
      <table class="table table-bordered">
        <thead class="thead-dark">
          <tr>
            <th>Recipe Name</th>
            <th>Author</th>
            <th>Preparation time</th>
            <th>Cooking Time</th>
            <th>Description</th>
            <th>Details</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% @public_recipes.each do |recipe| %>
            <tr>
              <td><%= recipe.name %></td>
              <td><%= recipe.user_id %></td>
              <td><%= recipe.preparation_time %></td>
              <td><%= recipe.cooking_time %></td>
              <td><%= recipe.description %></td>
              <td><%= link_to 'Details', recipe_path(recipe), class: 'btn btn-primary' %></td>
              <td>
                <% if current_user == recipe.user %> <!-- Only show delete button to the owner -->
                  <%= button_to 'Delete', recipe_path(recipe), method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger' %>
                <% end %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
</div>
<% else %>
  <p>No public recipes to display.</p>
<% end %>